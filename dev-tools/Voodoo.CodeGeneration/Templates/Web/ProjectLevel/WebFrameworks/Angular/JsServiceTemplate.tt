<#@ template language="C#"  linePragmas="false" #>
<#@ assembly name="System.Core" #>
<#@ import namespace="System.Linq" #>
<#@ import namespace="System.Text" #>
<#@ import namespace="System.Collections.Generic" #>
//***************************************************************
//This code just called you a tool
//What I meant to say is that this code was generated by a tool
//so don't mess with it unless you're debugging
//subject to change without notice, might regenerate while you're reading, etc
//***************************************************************
(function () {
    angular
	.module('app')
	.factory('<#=File.JsName #>Factory', ['$http','$log', function($http,$log) {

    var urlBase = 'api/<#=File.JsName #>';
    var <#=File.JsName #>Factory = {};

		<# foreach(var verb in File.Resource.Verbs) {#>

		<#=File.JsName #>Factory.<#=verb.Name.ToLower()#> = function (request) {
		<#if ( File.BodyVerbs.Contains(verb.Name.ToLower()) ) {#>
        var operation= $http.<#=verb.Name.ToLower()#>(urlBase,request );
		<#} else {#>
		var operation= $http({url: urlBase, method:'<#=verb.Name.ToLower()#>', params:request });		
		<#}#>

		     return operation.then(function(data, status, headers, config) {
				return data.data;
			}, 
			function(data, status, headers, config) {		
				$log.error(data);
				$log.error(status);
				$log.error(headers);
				$log.error(config);		    
				return  { isOk: false, message: data.data.message, status: data.status };
			}
		);
		
    };

		

<#}#>
	return <#=File.JsName #>Factory;
}]);
}())
